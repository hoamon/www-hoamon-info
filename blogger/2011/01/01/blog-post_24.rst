簡述金流系統
================================================================================

網路改變了現代人很多的生活模式。論就原理，它不過是快速傳遞資訊而已，結果它可以把傳統語音訊號改成語音封包變成網路電話，而平面的郵購清單改成動態的網頁表單變
成線上銷售，其實它的原理真的就只是能加快資訊傳輸的速度而已，但這「量變」卻造成「質變」。

金流也是。事實上，當各國央行放棄金本位制度後，所謂的貨幣就不過是個「數字」而已，美國聯準會可以搞 QE1, QE2, QE3 …
的原因，不是它美鈔可以印得比別人快，以 QE2 的規模 6000 億美元來看，美國印鈔局真有辦法在不到 1 年的時間印出 6000 億美元的鈔票嗎?
這還不算它本來就得應付的舊鈔換新鈔需求喔! 美鈔最大額不過是 100 元，印這個太慢了，所以它們印的是美國公債，隨便印都是 10 萬起跳的。當它們想要為金
融體系注資時，就把當初發行的公債買回來就行了，而且還不用給現金，在資產負債表上掛帳就行了，可參閱`聯準會買債券賺到784億美元`_。

再以我們中央銀行為例，目前 3 千多億美金的外匯存底，真的是有實體資產放在央行的保險庫嗎? 當外資從紐約匯進 10 億美金，不過就是把某家銀行的美金數字換
放到另一家銀行去就行了，根本不用搬真的錢進到台灣。所以金流根本就是資訊流，流通的資訊主要就是兩種，誰匯給誰以及匯多少。「誰匯給誰」關係『身份認證』這種事，
而「匯多少」則部份與匯款人的額度也就是『身份認證』有關，剩下的部份就只是數字而已。

說起來金流還比通信網路簡單，至少它不需要使用者另外準備耳機及麥克風。以早期的資訊管理系統來說，會計系統通常是最早建置的，因為它們也只關乎數字。

金流系統聽起來這麼簡單，那我們會寫程式，會作資訊系統的人還不趕快來寫一套!

哈哈哈! 我就知道你不信我，金流系統如果怎麼簡單，怎麼沒聽說過那個大學沒畢業的有開發出來，到是有聽過沒畢業的人可以寫出社交網站;
但如果不簡單，怎麼天底下那麼多家銀行，幾乎每家都有金流系統，但也就那麼一個社交網站有著幾億人的使用者。

嘻! 這說法有沒有想到`日近長安遠`_的故事。

原因不在程式難寫，而是『身份認證』太難。各位有聽過『軟體公司法』嗎? 乃規範軟體公司如何撰寫程式，收費標準以及沒事得接受政府檢查的法律，但是卻有銀行法及金
管會，規範營業櫃台可放什麼，不可放什麼，能收取的利率上限為何，以及不定期與主管機關喝喝咖啡。

我們隨便寫個網站讓大家使用時，有沒有要使用者親自到公司櫃台辦理，而且還要帶雙證件及本人拍照喔! 沒有嘛!
因為銀行、信用卡公司都是特許行業，政府沒點頭，一般人是不能開的。你開公司時，在營業項目上面通常是高興拉多少就拉多少，開軟體公司能不能賣書? 可以!
能不能賣服飾? 可以! 但能不能寫個 H101021 商業銀行業? 我包你會被經辦人員白眼，嗆你一句：「請找個有正常腦袋的會計師幫你申請!」

於是乎，我們一般人寫金流系統，都需要找個代理人，幫我們作『身份認證』及『額度確認』的動作。那就是銀行提供的線上刷卡服務或是網路ATM系統，然而如果我們是跟
玉山銀行(收單銀行)申請收款服務的，但消費者拿的是第一銀行(發卡銀行)的信用卡或是提款卡時，玉山銀行怎麼知道是真的卡還是假的?
它們得透過`財金公司`_的金資系統作跨行查詢，信用卡則是透過信用卡組織像是 `visa`_ 、 `mastercard`_
與發卡銀行查詢，在臺灣則用`聯合信用卡中心`_作中介。

也因為金流系統真的只是數字交換而已，難作的『身份認證』及『額度開放』都被銀行、信用卡公司作完了，於是乎就有金流公司的誕生，它們整合 WebATM
匯款、信用卡刷卡甚至超商繳費，只要你跟它們簽約，每年繳個閘道服務費，就提供 API
使用。而我們程式設計師只要知道傳什麼參數給它就成了。因為簡單，所以就得付出代價，每筆交易的手續費大概是花 2.8 ~ 3.4 %
之間，比買股票還貴，平平都是數字，轉 100 元扣 3 塊，轉 1000000000 扣 3 億，這不過是多 7 個零而已。

撰寫金流系統前，需要考慮的是『用誰的 API 』，有國內銀行、金流公司及 PayPal 等。

國內銀行：

通常你的公司帳戶開在那家銀行，就跟它們合作，好處是有關係有優惠，如果公司進出金額又大時，手續費會比較容易砍，而且消費者刷卡、匯款後，錢是馬上匯到公司戶頭。
缺點是國內銀行的 API 不好用，不要以為它們的資本額動輒幾百億上下，寫的網站就比較厲害，這不見得。它們的本業是賺存放款利差，不是開軟體公司。或許我一竿子
打翻一船人，非常歡迎提出反證，畢竟我沒看過國內所有銀行的 API 文件。因為不容易看得到，這一點我也覺得很奇怪，銀行居然會把 API
文件當作是機密，一定要簽約後，才能看到全貌，憑這一點，我就不想用銀行的系統了。

金流公司：

好處是它們的軟體實力比較好， API 考慮比較周延，付款種類較多，入帳管理系統也比較好用，有意見的話也比較有改進的空間。而缺點是金流公司一大堆，不要找到二
流的，二流的收款是先到金流公司戶頭，之後再轉到你的公司戶頭，出問題，錢是要不回來的。或是網路頻寬不夠，消費者要刷卡時，苦苦等不到刷卡頁面。甚至盜賣消費者資
料。

不過，`金管會對金流公司不太爽`_，法令綁手綁腳的。難保那天被勒令停辦，你就頭痛了。又或者一個解決方案是利用金流公司協助申請『特店資格』，有了特店資格，你
就可合法地提供信用卡刷卡服務。

PayPal:

不須有公司登記，沒有建置費，可以跨國付款，軟體實力也是最高的，不只給個入帳管理系統，連帳務管理都有 API
，所以你高興還可以把帳務管理內建在自己的金流系統中，這樣你的會計就不用記兩組帳號、密碼，這邊登過來，那邊登過去了。缺點是它每筆交易收 3.4% + $10
TWD ，不算便宜。但是我們可以這樣想，公司不大時，用 PayPal 可以比較省成本，因為它少了上萬元的建置費，換算成 PayPal 手續費，大概可以抵上
1000 次，這對草創公司比較有利。另外還有一個不算缺點的缺點，它的 API
文件都是英文的，它沒有台灣辦公室，所以有程式問題要問，都得用英文問，像我就提了一個`問題`_。

以我個人偏好來說，在小規模時，採用 PayPal 收款，大規模時，納入一流金流公司，而銀行則完全不考慮。

這篇文章一開頭其實只是想講如何使用 PayPal Express Checkout 機制收款，結果落落長，到現在都還沒講到初衷，所以請看`下篇`_來了解
Express Checkout 如何應用。

== 後記 ==

除了這三者收款管道外，我好像漏了`聯合信用卡中心`_的特約商店。等我有時間再補充吧!

.. _聯準會買債券賺到784億美元:
    http://www.libertytimes.com.tw/2011/new/jan/12/today-e1.htm
.. _日近長安遠: http://www.chiculture.net/1104/html/1104b13/1104b13.html
.. _財金公司: http://www.fisc.com.tw/
.. _visa: http://www.blogger.com/www.visa-asia.com
.. _mastercard: http://www.mastercard.com/tw/
.. _聯合信用卡中心: http://www.nccc.com.tw/
.. _金管會對金流公司不太爽: http://techorange.com/2011/08/15/paypal-ezpay-alipay/
.. _問題: https://www.x.com/message/195432#195432
.. _下篇: http://hoamon.blogspot.com/2011/01/paypal-express-checkout.html


.. author:: default
.. categories:: chinese
.. tags:: paypal
.. comments::